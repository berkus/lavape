%product The Lava Programming Environment
%copyright 1999-2009 by Klaus D. Günther
%vendor Klaus D. Günther
%license GPL.txt
%readme ReleaseNotes.txt
%description Advanced experimental OO programming language + IDE based on structure editors
%version 0.9.1 091

%ifdef suse
%requires libqt4
%requires libqt4-devel-doc
%requires libqt4-x11

%elseifdef debian
%requires qt4-doc
%requires qt4-dev-tools
#%requires libqt4-core
#%requires libqt4-gui
#%requires libqt4-network

%elseifdef fedora
%requires libqt4-core
%requires libqt4-dev
%requires libqt4-gui

%elseifdef mandriva
%requires libqtcore4
%requires libqtgui4
%requires libqtnetwork4
%requires qt4-assistant

%endif

#%preinstall echo Please enter the installation directory for lavape:;read dirname;echo Your install dir is $dirname

%ifdef !prefix
$prefix=/opt
%endif

$libdir=/usr/local/lib

d 755 root sys $prefix/lavape -
f 644 root sys $prefix/lavape *.txt

d 777 root sys $prefix/lavape/samples -
f 666 root sys $prefix/lavape/samples samples/*.lava
f 666 root sys $prefix/lavape/samples samples/*.ldoc
f 666 root sys $prefix/lavape/samples samples/*.xpm
f 666 root sys $prefix/lavape/samples/LCompoImpl.lcom samples/LCompoImpl.lcom

f 755 root sys $libdir/libdisco.so.1 lib/libdisco.so.1.0.0
f 755 root sys $libdir/libInterpreter.so.1 lib/libInterpreter.so.1.0.0
f 755 root sys $libdir/libLavaBase.so.1 lib/libLavaBase.so.1.0.0
f 755 root sys $libdir/libLavaExecs.so.1 lib/libLavaExecs.so.1.0.0
f 755 root sys $libdir/libLavaGUI.so.1 lib/libLavaGUI.so.1.0.0
f 755 root sys $libdir/libLavaPE_UI.so.1 lib/libLavaPE_UI.so.1.0.0
f 755 root sys $libdir/libLavaStream.so.1 lib/libLavaStream.so.1.0.0
f 755 root sys $libdir/libLava_UI.so.1 lib/libLava_UI.so.1.0.0
f 755 root sys $libdir/libwxqDocView.so.1 lib/libwxqDocView.so.1.0.0

#%ifdef suse
l 777 root sys $prefix/lavape/bin/assistant /usr/bin/assistant
%elseifdef debian
l 777 root sys $prefix/lavape/bin/assistant /usr/bin/assistant
%endif

d 755 root sys $prefix/lavape/bin -
f 644 root sys $prefix/lavape/bin bin/*.htm
f 644 root sys $prefix/lavape/bin bin/*.lava
f 755 root sys $prefix/lavape/bin/LavaPE bin/LavaPE
f 755 root sys $prefix/lavape/bin/Lava bin/Lava
f 755 root sys $prefix/lavape/bin/cp_icons_std bin/cp_icons_std
d 755 root sys $prefix/lavape/bin/std -
f 644 root sys $prefix/lavape/bin/std bin/std/*.htm


d 755 root sys $prefix/lavape/bin/Components -
l 777 root sys $prefix/lavape/bin/Components/LavaStream.lava ../../samples/LavaStream.lava
l 777 root sys $prefix/lavape/bin/Components/libLavaStream.so ../../lib/libLavaStream.so
l 777 root sys $prefix/lavape/bin/Components/LCompoImpl.lcom.lnk ../../samples/LCompoImpl.lcom

d 755 root sys $prefix/lavape/bin/LavaIcons -
f 644 root sys $prefix/lavape/bin/LavaIcons bin/LavaIcons/*.js
f 644 root sys $prefix/lavape/bin/LavaIcons bin/LavaIcons/*.png
f 644 root sys $prefix/lavape/bin/LavaIcons bin/LavaIcons/*.css

d 755 root sys $prefix/lavape/doc -
f 644 root sys $prefix/lavape/doc/LavaPE.qhc doc/LavaPE.qhc
f 644 root sys $prefix/lavape/doc/LavaPE.qch doc/LavaPE.qch
